(this.webpackJsonphurleymaker=this.webpackJsonphurleymaker||[]).push([[4],{198:function(e,n,t){"use strict";var r=Object.prototype.hasOwnProperty;var a=function(e,n){return null!=e&&r.call(e,n)},o=t(116);n.a=function(e,n){return null!=e&&Object(o.a)(e,n,a)}},233:function(e,n,t){"use strict";t.r(n);var r=t(20),a=t(0),o=t.n(a),c=t(210),s=t(195),i=t(104),l=t(147),u=t(194),d=t(44),j=t(1),h=t(7),b=t(198),p=t(5),O=(t(6),t(80)),m=t(66),f=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).handleCancel=function(e){Object(p.a)(n.props,"onCancel",e,n.props)},n.handleCancelOverrides=function(e){return{onClick:function(t,r){Object(p.a)(e,"onClick",t,r),n.handleCancel(t)}}},n.handleConfirmOverrides=function(e){return{onClick:function(t,r){Object(p.a)(e,"onClick",t,r),Object(p.a)(n.props,"onConfirm",t,n.props)}}},n}return Object(h.a)(n,e),n.prototype.render=function(){var e=this.props,t=e.cancelButton,r=e.confirmButton,a=e.content,c=e.header,s=e.open,i=e.size,l=Object(O.a)(n,this.props),d={};return Object(b.a)(this.props,"open")&&(d.open=s),o.a.createElement(m.a,Object(j.a)({},l,d,{size:i,onClose:this.handleCancel}),m.a.Header.create(c,{autoGenerateKey:!1}),m.a.Content.create(a,{autoGenerateKey:!1}),o.a.createElement(m.a.Actions,null,u.a.create(t,{autoGenerateKey:!1,overrideProps:this.handleCancelOverrides}),u.a.create(r,{autoGenerateKey:!1,defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))},n}(a.Component);f.handledProps=["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"],f.propTypes={},f.defaultProps={cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"};var x=f,C=t(146),g=t(107),v=t(68),y=t(108),k=t(51),w=t(2);n.default=function(e){var n=Object(a.useContext)(k.a),t=Object(a.useState)({user:null}),j=Object(r.a)(t,2),h=j[0],b=j[1],p=Object(a.useState)({error:!1,errorMessage:null}),O=Object(r.a)(p,2),m=O[0],f=O[1],B=Object(a.useState)({isLoading:!0,loadFailed:!1}),A=Object(r.a)(B,2),I=A[0],P=A[1],z=Object(a.useState)({open:!1}),F=Object(r.a)(z,2),K=F[0],M=F[1];Object(a.useEffect)((function(){var e="/users/"+n.userId;g.a.get(e,{headers:{Authorization:"Bearer "+n.token}}).then((function(e){b({user:e.data.user})})).catch((function(e){f({error:!0,errorMessage:e.response.data.message}),P({isLoading:!1,loadFailed:I.loadFailed})}))}),[]);var D=m.error?Object(w.jsx)(y.a,{error:m.errorMessage,onClear:function(){f({error:!1,errorMessage:null}),P({isLoading:!1,loadFailed:!0})}}):Object(w.jsx)(v.a,{active:I.isLoading});return h.user&&!m.error?D=Object(w.jsx)(c.a,{children:Object(w.jsx)(c.a.Row,{centered:!0,children:Object(w.jsx)(c.a.Column,{width:10,children:Object(w.jsx)(s.a,{color:"yellow",children:Object(w.jsxs)(c.a,{divided:!0,children:[Object(w.jsxs)(c.a.Column,{width:8,children:[Object(w.jsx)(i.a,{as:"h3",textAlign:"center",color:"blue",children:"Your Details"}),Object(w.jsxs)(l.a,{children:[Object(w.jsxs)(l.a.Item,{children:[Object(w.jsx)(l.a.Icon,{name:"user"}),Object(w.jsx)(l.a.Content,{children:Object(w.jsxs)("b",{children:["Name: ",h.user.name," "]})})]}),Object(w.jsxs)(l.a.Item,{children:[Object(w.jsx)(l.a.Icon,{name:"mail"}),Object(w.jsx)(l.a.Content,{children:Object(w.jsxs)("b",{children:["Email: ",h.user.email," "]})})]}),Object(w.jsxs)(l.a.Item,{children:[Object(w.jsx)(l.a.Icon,{name:"lock"}),Object(w.jsxs)(l.a.Content,{children:[Object(w.jsx)("b",{children:"Password: "})," ","\u25aa\u25aa\u25aa\u25aa\u25aa\u25aa"," "]})]})]}),Object(w.jsxs)("div",{className:"accountButtons",children:[Object(w.jsxs)(u.a,{icon:!0,labelPosition:"left",color:"orange",onClick:function(){e.history.push({pathname:"/update-account",state:{user:h.user}})},children:[Object(w.jsx)(d.a,{name:"pencil"}),"Update Your Details"]}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)(u.a,{icon:!0,labelPosition:"left",color:"red",onClick:function(){return M({open:!0})},children:["Delete Your Account",Object(w.jsx)(d.a,{name:"trash"})]}),Object(w.jsx)(x,{open:K.open,onCancel:function(){return M({open:!1})},onConfirm:function(){var t="/deleteuser/"+n.userId;g.a.delete(t,{headers:{Authorization:"Bearer "+n.token}}).then((function(t){console.log("User deleted!"),n.logout(),e.history.push("/")})).catch((function(e){var n="";n=e.response?e.response.data.message:"There was a problem deleting your account",f({error:!0,errorMessage:n})}))},header:"Are you sure?",content:"Deleting your account is a permanent action and cannot be undone",cancelButton:"Take me back",confirmButton:"Yes, delete my account permanently"})]})]}),Object(w.jsx)(c.a.Column,{width:8,textAlign:"center",children:Object(w.jsx)(C.a,{src:"https://img.jamieoliver.com/jamieoliver/recipe-database/oldImages/large/1474_2_1430128688.jpg?tr=w-800,h-1066",rounded:!0,size:"large"})})]})})})})}):I.loadFailed&&(D=Object(w.jsx)("p",{children:"User can't be found"})),Object(w.jsx)(o.a.Fragment,{children:D})}}}]);
//# sourceMappingURL=4.e4504ec0.chunk.js.map