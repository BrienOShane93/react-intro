{"ast":null,"code":"var _jsxFileName = \"/Users/BrienOShane93/Documents/GitHub/react-intro/hurleymaker-assignment2/frontend/src/containers/HurleyMaker/HurleyMaker.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Grid } from \"semantic-ui-react\";\nimport axios from \"../../axios-orders\";\nimport Menu from \"../../components/Menu/Menu\";\nimport Order from \"../../components/Order/Order\";\nimport Loader from \"../../components/Feedback/Loader/Loader\";\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HurleyMaker = props => {\n  _s();\n\n  // MENU, ERROR AND LOADING STATE AND GET TOPPINGS FROM FIREBASE\n  const [menuState, setMenuState] = useState({\n    styles: []\n  });\n  const [errorState, setErrorState] = useState({\n    error: false,\n    errorMessage: null\n  });\n  const [loadingState, setLoadingState] = useState({\n    isLoading: true,\n    loadFailed: false\n  });\n  useEffect(() => {\n    axios.get(\"/\").then(response => {\n      let sortedStyles = response.data.styles.sort(function (a, b) {\n        return a.id - b.id;\n      });\n      setMenuState({\n        styles: sortedStyles\n      });\n    }).catch(error => {\n      setErrorState({\n        error: true,\n        errorMessage: error.response.data.message\n      });\n      setLoadingState({\n        isLoading: false,\n        loadFailed: menuState.loadFailed\n      });\n      console.log(error.response);\n    });\n  }, []); // ORDER STATE\n  // Set order state conditionally - either to old order state or starting state\n\n  const [orderState, setOrderState] = useState({\n    totalPrice: props.location.state ? props.location.state.order.totalPrice : 0,\n    chosenStyles: props.location.state ? props.location.state.order.chosenStyles : []\n  }); // EVENT HANDLERS - ADD TOPPING\n\n  const addStyleHandler = id => {\n    let order = { ...orderState\n    }; // find the chosen style in the menu\n\n    const menuIndex = menuState.styles.findIndex(style => style.id === id); // check if the style has already been added to the orderStyles array\n\n    const orderIndex = order.chosenStyles.findIndex(style => style.id === id); // if so, increase its count by 1\n\n    if (orderIndex > -1) {\n      order.chosenStyles[orderIndex].count++;\n    } // otherwise (i.e. this style is being added for the first time)\n    // create this style and add it to the order styles array\n    else {\n        // Save the id, name and price of the chosen style; set its count to 1\n        const chosenStyle = {\n          id: menuState.styles[menuIndex].id,\n          name: menuState.styles[menuIndex].alt,\n          price: menuState.styles[menuIndex].price,\n          count: 1\n        };\n        order.chosenStyles.push(chosenStyle);\n      } // Calculate the new price\n\n\n    const newPrice = orderState.totalPrice + menuState.styles[menuIndex].price; // Update the order state with the new price and updated styles array\n\n    setOrderState({\n      totalPrice: newPrice,\n      chosenStyles: order.chosenStyles\n    });\n  }; // EVENT HANDLERS - REMOVE STYLE\n\n\n  const removeStyleHandler = id => {\n    let order = { ...orderState\n    }; // Find style with matching id from the orderToppings\n\n    const index = order.chosenStyles.findIndex(style => style.id === id); // Get the current price\n\n    let price = order.totalPrice; // If style was found, update the price and decrease the count\n\n    if (index >= 0) {\n      price = price - order.chosenStyles[index].price;\n      order.chosenStyles[index].count--; // If the count is now 0, remove the style completely\n\n      if (order.chosenStyles[index].count < 1) {\n        order.chosenStyles.splice(index, 1);\n      }\n    } // Update order state with updated price and updated styles array\n\n\n    setOrderState({\n      totalPrice: price,\n      chosenStyles: order.chosenStyles\n    });\n  }; // EVENT HANDLERS - CHECK OUT\n\n\n  const checkoutHandler = () => {\n    props.history.push({\n      pathname: \"place-order\",\n      state: {\n        order: orderState,\n        menu: menuState.styles\n      }\n    });\n  }; // ERROR HANDLER\n\n\n  const errorHandler = () => {\n    setErrorState({\n      error: false,\n      errorMessage: null\n    });\n    setLoadingState({\n      isLoading: false,\n      loadFailed: true\n    });\n  }; // DISABLE CHECKOUT BUTTON IF NO TOPPINGS CHOSEN\n\n\n  let checkoutDisabled = true;\n\n  if (orderState.chosenStyles.length > 0) {\n    checkoutDisabled = false;\n  } // DISPLAY HURLEY MAKER MENU AND CONTROLS\n\n\n  let hurleymakerMenu = errorState.error ? /*#__PURE__*/_jsxDEV(ErrorModal, {\n    error: errorState.errorMessage,\n    onClear: errorHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Loader, {\n    active: loadingState.isLoading\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n\n  if (menuState.styles.length > 0) {\n    hurleymakerMenu = /*#__PURE__*/_jsxDEV(Grid, {\n      divided: \"vertically\",\n      stackable: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid.Row, {\n        centered: true,\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          menu: menuState.styles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Order, {\n        menu: menuState.styles,\n        styleAdded: addStyleHandler,\n        styleRemoved: removeStyleHandler,\n        chosenStyles: orderState.chosenStyles,\n        totalPrice: orderState.totalPrice,\n        checkout: checkoutHandler,\n        disabled: checkoutDisabled\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  } else if (loadingState.loadFailed) {\n    hurleymakerMenu = /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"We're having some issues loading the menu... Please try again later.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: hurleymakerMenu\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 10\n  }, this);\n};\n\n_s(HurleyMaker, \"/854AkRcd0hIfuQIJeaUDM3r8fg=\");\n\n_c = HurleyMaker;\nHurleyMaker;\n\nvar _c;\n\n$RefreshReg$(_c, \"HurleyMaker\");","map":{"version":3,"sources":["/Users/BrienOShane93/Documents/GitHub/react-intro/hurleymaker-assignment2/frontend/src/containers/HurleyMaker/HurleyMaker.js"],"names":["React","useState","useEffect","Grid","axios","Menu","Order","Loader","ErrorModal","HurleyMaker","props","menuState","setMenuState","styles","errorState","setErrorState","error","errorMessage","loadingState","setLoadingState","isLoading","loadFailed","get","then","response","sortedStyles","data","sort","a","b","id","catch","message","console","log","orderState","setOrderState","totalPrice","location","state","order","chosenStyles","addStyleHandler","menuIndex","findIndex","style","orderIndex","count","chosenStyle","name","alt","price","push","newPrice","removeStyleHandler","index","splice","checkoutHandler","history","pathname","menu","errorHandler","checkoutDisabled","length","hurleymakerMenu"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport axios from \"../../axios-orders\";\r\n\r\nimport Menu from \"../../components/Menu/Menu\";\r\nimport Order from \"../../components/Order/Order\";\r\nimport Loader from \"../../components/Feedback/Loader/Loader\";\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\n\r\nconst HurleyMaker = (props) => {\r\n\r\n  // MENU, ERROR AND LOADING STATE AND GET TOPPINGS FROM FIREBASE\r\n  const [menuState, setMenuState] = useState({\r\n    styles: [],\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [loadingState, setLoadingState] = useState({\r\n    isLoading: true,\r\n    loadFailed: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/\")\r\n      .then((response) => {\r\n        let sortedStyles = response.data.styles.sort(function (a, b) {\r\n          return a.id - b.id;\r\n        });\r\n        setMenuState({ styles: sortedStyles });\r\n      })\r\n      .catch((error) => {\r\n        setErrorState({\r\n          error: true,\r\n          errorMessage: error.response.data.message,\r\n        });\r\n        setLoadingState({ isLoading: false, loadFailed: menuState.loadFailed });\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n\r\n  // ORDER STATE\r\n\r\n  // Set order state conditionally - either to old order state or starting state\r\n\r\n  const [orderState, setOrderState] = useState({\r\n    totalPrice: props.location.state\r\n      ? props.location.state.order.totalPrice\r\n      : 0,\r\n    chosenStyles: props.location.state\r\n      ? props.location.state.order.chosenStyles\r\n      : [],\r\n  });\r\n\r\n  // EVENT HANDLERS - ADD TOPPING\r\n\r\n  const addStyleHandler = (id) => {\r\n    let order = { ...orderState };\r\n\r\n    // find the chosen style in the menu\r\n    const menuIndex = menuState.styles.findIndex(\r\n      (style) => style.id === id\r\n    );\r\n\r\n    // check if the style has already been added to the orderStyles array\r\n    const orderIndex = order.chosenStyles.findIndex(\r\n      (style) => style.id === id\r\n    );\r\n\r\n    // if so, increase its count by 1\r\n    if (orderIndex > -1) {\r\n      order.chosenStyles[orderIndex].count++;\r\n    }\r\n    // otherwise (i.e. this style is being added for the first time)\r\n    // create this style and add it to the order styles array\r\n    else {\r\n      // Save the id, name and price of the chosen style; set its count to 1\r\n      const chosenStyle = {\r\n        id: menuState.styles[menuIndex].id,\r\n        name: menuState.styles[menuIndex].alt,\r\n        price: menuState.styles[menuIndex].price,\r\n        count: 1,\r\n      };\r\n      order.chosenStyles.push(chosenStyle);\r\n    }\r\n\r\n    // Calculate the new price\r\n    const newPrice =\r\n      orderState.totalPrice + menuState.styles[menuIndex].price;\r\n\r\n    // Update the order state with the new price and updated styles array\r\n    setOrderState({\r\n      totalPrice: newPrice,\r\n      chosenStyles: order.chosenStyles,\r\n    });\r\n  };\r\n\r\n  // EVENT HANDLERS - REMOVE STYLE\r\n\r\n  const removeStyleHandler = (id) => {\r\n    let order = { ...orderState };\r\n\r\n    // Find style with matching id from the orderToppings\r\n    const index = order.chosenStyles.findIndex(\r\n      (style) => style.id === id\r\n    );\r\n\r\n    // Get the current price\r\n    let price = order.totalPrice;\r\n\r\n    // If style was found, update the price and decrease the count\r\n    if (index >= 0) {\r\n      price = price - order.chosenStyles[index].price;\r\n      order.chosenStyles[index].count--;\r\n\r\n      // If the count is now 0, remove the style completely\r\n      if (order.chosenStyles[index].count < 1) {\r\n        order.chosenStyles.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    // Update order state with updated price and updated styles array\r\n    setOrderState({\r\n      totalPrice: price,\r\n      chosenStyles: order.chosenStyles,\r\n    });\r\n  };\r\n\r\n  // EVENT HANDLERS - CHECK OUT\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push({\r\n      pathname: \"place-order\",\r\n      state: {\r\n        order: orderState,\r\n        menu: menuState.styles,\r\n      },\r\n    });\r\n  };\r\n\r\n  // ERROR HANDLER\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n    setLoadingState({\r\n      isLoading: false,\r\n      loadFailed: true,\r\n    });\r\n  };\r\n\r\n  // DISABLE CHECKOUT BUTTON IF NO TOPPINGS CHOSEN\r\n\r\n  let checkoutDisabled = true;\r\n\r\n  if (orderState.chosenStyles.length > 0) {\r\n    checkoutDisabled = false;\r\n  }\r\n\r\n  // DISPLAY HURLEY MAKER MENU AND CONTROLS\r\n\r\n  let hurleymakerMenu = errorState.error ? (\r\n    <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n  ) : (\r\n    <Loader active={loadingState.isLoading} />\r\n  );\r\n\r\n  if (menuState.styles.length > 0) {\r\n    hurleymakerMenu = (\r\n      <Grid divided=\"vertically\" stackable>\r\n        <Grid.Row centered>\r\n          <Menu menu={menuState.styles} />\r\n        </Grid.Row>\r\n        <Order\r\n          menu={menuState.styles}\r\n          styleAdded={addStyleHandler}\r\n          styleRemoved={removeStyleHandler}\r\n          chosenStyles={orderState.chosenStyles}\r\n          totalPrice={orderState.totalPrice}\r\n          checkout={checkoutHandler}\r\n          disabled={checkoutDisabled}\r\n        />\r\n      </Grid>\r\n    );\r\n  } else if (loadingState.loadFailed) {\r\n    hurleymakerMenu = (\r\n      <p>\r\n        We're having some issues loading the menu... Please try again later.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return <div>{hurleymakerMenu}</div>;\r\n};\r\nHurleyMaker;\r\n"]},"metadata":{},"sourceType":"module"}